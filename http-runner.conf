sTat uptime | fold -s -w 50 ; echo '<br><img src="http://www.wieistmeineip.de/ip-adresse/?size=125x125" border="0" width="125" height="125" alt="IP" /><br><a href="$mpd" target="_blank">';mpc | grep -C 5 "\[playing\]" || echo "MPD";echo "</a><meta HTTP-EQUIV='REFRESH' content='30; url=\$sTat'>"

_test1 echo $HTTP_RUNNER_REQUEST_ARGS
__test1 echo "<h1>Du B&ouml;ser Hacker, gut dass ich darauf nich reinfalle!</h1>"
test2 echo $HTTP_RUNNER_REQUEST_ARGS

mpd echo "<title>MPD</title><div style='width:384px; border: 1px solid grey;box-shadow: 10px 10px 5px lightgrey;border-radius: 15px;'><a href='\$mpccmd prev'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_rw.png'></a><a href='\$mpccmd toggle'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_pause.png'></a><a href='\$mpccmd next'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_fw.png'></a><br>$(mpc | tee >(grep -q "\[playing\]" && echo "<meta HTTP-EQUIV='REFRESH' content='1; url=\$mpd'>") | tee >(read line; read line; x=$(echo "$line" |cut -d"(" -f 2|cut -d")" -f 1); echo "<a href='\$mpcpla'><img src='http://findicons.com/files/icons/566/isimple_system/128/ifolder_add.png'></a><a href='\$mpcpld'><img src='http://png-2.findicons.com/files/icons/566/isimple_system/128/trash_full.png'></a><a href='\$mpcplp'><img src='http://png-2.findicons.com/files/icons/566/isimple_system/128/paste.png'></a><div style='width:384px; background-color:grey;border-radius: 15px;'><div style='width:$x; background-color:green; text-align: center;border-radius: 15px;'>$(echo ${line//  / }|cut -d" " -f 3 | cut -d"/" -f 1)</div></div>") | while read line ;do line=${line// repeat:/ <a href=\'\$mpccmd repeat\'>repeat\:</a> };line=${line// random:/ <a href=\'\$mpccmd random\'>random:</a> };line=${line// single:/<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href=\'\$mpccmd single\'>single:</a> };line=${line// consume:/ <a href=\'\$mpccmd consume\'>consume:</a> }; echo "$line" ; echo "$line" | grep -q "consume:" && echo "<a href='\$cake=$(uuidgen)'>Cake</a>"; echo "$line" | grep -q "<meta" || echo "$line" | grep -q "text-align: center" || echo "<br>" ;done )</div>"
_mpccmd mpc $HTTP_RUNNER_REQUEST_ARGS >/dev/null 2>&1 ; echo "<title>MPD</title><div style='width:384px; border: 1px solid grey;box-shadow: 10px 10px 5px lightgrey;border-radius: 15px;'><a href='\$mpccmd prev'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_rw.png'></a><a href='\$mpccmd toggle'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_pause.png'></a><a href='\$mpccmd next'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_fw.png'></a><br>$(mpc | tee >(grep -q "\[playing\]" && echo "<meta HTTP-EQUIV='REFRESH' content='1; url=\$mpd'>") | tee >(read line; read line; x=$(echo "$line" |cut -d"(" -f 2|cut -d")" -f 1); echo "<a href='\$mpcpla'><img src='http://findicons.com/files/icons/566/isimple_system/128/ifolder_add.png'></a><a href='\$mpcpld'><img src='http://png-2.findicons.com/files/icons/566/isimple_system/128/trash_full.png'></a><a href='\$mpcplp'><img src='http://png-2.findicons.com/files/icons/566/isimple_system/128/paste.png'></a><div style='width:384px; background-color:grey;border-radius: 15px;'><div style='width:$x; background-color:green; text-align: center;border-radius: 15px;'>$(echo ${line//  / }|cut -d" " -f 3 | cut -d"/" -f 1)</div></div>") | while read line ;do line=${line// repeat:/ <a href=\'\$mpccmd repeat\'>repeat\:</a> };line=${line// random:/ <a href=\'\$mpccmd random\'>random:</a> };line=${line// single:/<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href=\'\$mpccmd single\'>single:</a> };line=${line// consume:/ <a href=\'\$mpccmd consume\'>consume:</a> }; echo "$line" ; echo "$line" | grep -q "consume:" && echo "<a href='\$cake=$(uuidgen)'>Cake</a>"; echo "$line" | grep -q "<meta" || echo "$line" | grep -q "text-align: center" || echo "<br>" ;done )</div>"
__mpccmd echo "forbidden"
_mpccmd64 mpc $(echo "$HTTP_RUNNER_REQUEST_ARGS" |base64 -d) >/dev/null 2>&1 ; echo "<title>MPD</title><div style='width:384px; border: 1px solid grey;box-shadow: 10px 10px 5px lightgrey;border-radius: 15px;'><a href='\$mpccmd prev'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_rw.png'></a><a href='\$mpccmd toggle'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_pause.png'></a><a href='\$mpccmd next'><img src='http://findicons.com/files/icons/566/isimple_system/128/bt_fw.png'></a><br>$(mpc | tee >(grep -q "\[playing\]" && echo "<meta HTTP-EQUIV='REFRESH' content='1; url=\$mpd'>") | tee >(read line; read line; x=$(echo "$line" |cut -d"(" -f 2|cut -d")" -f 1); echo "<a href='\$mpcpla'><img src='http://findicons.com/files/icons/566/isimple_system/128/ifolder_add.png'></a><a href='\$mpcpld'><img src='http://png-2.findicons.com/files/icons/566/isimple_system/128/trash_full.png'></a><a href='\$mpcplp'><img src='http://png-2.findicons.com/files/icons/566/isimple_system/128/paste.png'></a><div style='width:384px; background-color:grey;border-radius: 15px;'><div style='width:$x; background-color:green; text-align: center;border-radius: 15px;'>$(echo ${line//  / }|cut -d" " -f 3 | cut -d"/" -f 1)</div></div>") | while read line ;do line=${line// repeat:/ <a href=\'\$mpccmd repeat\'>repeat\:</a> };line=${line// random:/ <a href=\'\$mpccmd random\'>random:</a> };line=${line// single:/<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href=\'\$mpccmd single\'>single:</a> };line=${line// consume:/ <a href=\'\$mpccmd consume\'>consume:</a> }; echo "$line" ; echo "$line" | grep -q "consume:" && echo "<a href='\$cake=$(uuidgen)'>Cake</a>"; echo "$line" | grep -q "<meta" || echo "$line" | grep -q "text-align: center" || echo "<br>" ;done )</div>"
__mpccmd64 echo "forbidden"
_mpcpla mpc listall | while read l ; do echo "<a href='\$mpccmd64 $(echo "add $l" | base64 -w 0)'>$l</a><br>";done
__mpcpla echo "forbidden"
_mpcpld i=1; mpc playlist | while read l ; do echo "<a href='\$mpccmd del $i'>$l</a><br>"; let "i=$i+1";done
__mpcpld echo "forbidden"
_mpcplp i=1; mpc playlist | while read l ; do echo "<a href='\$mpccmd play $i'>$l</a><br>"; let "i=$i+1";done
__mpcplp echo "forbidden"

#######we do not really want this!
##mpcprevbtn.png convert -size 100x60 xc:white -fill grey -stroke black -draw "circle 50,30 40,10" -fill black -stroke black -pointsize 30 -draw "text 40,40 '<'"  png:- 2>/dev/null
##mpcnextbtn.png convert -size 100x60 xc:white -fill grey -stroke black -draw "circle 50,30 40,10" -fill black -stroke black -pointsize 30 -draw "text 45,40 '>'"  png:- 2>/dev/null
##mpcpausebtn.png convert -size 100x60 xc:white -fill grey -stroke black -draw "circle 50,30 40,10" -fill black -stroke black -pointsize 30 -draw "text 45,40 '||'"  png:- 2>/dev/null

git cd /home/mz/dev/httprunner/; echo "<pre>"; git status ; echo "</pre>"
